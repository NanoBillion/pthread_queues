.Dd October 10, 2023
.Dt PQ_DESTROY 3
.Os
.Sh NAME
.Nm pq_create ,
.Nm pq_destroy
.Nd create or destroy a POSIX/pthread queue
.Sh SYNOPSIS
.In pq.h
.Ft pq_status_t
.Fn pq_create "struct pq_queue **q" "struct pq_attr *attr"
.Ft pq_status_t
.Fn pq_destroy "struct pq_queue *q"
.Sh DESCRIPTION
The
.Fn pq_create
function creates a new queue. Upon success it stores
a queue handle in the memory pointed to by
.Fa q .
The
.Fa attr
argument points to a structure with the following members:
TODO
.Pp
The
.Fn pq_destroy
function destroys the queue
.Fa q ,
freeing all memory allocated upon its creation.
.Sh RETURN VALUES
If successful, the functions return zero.
Otherwise an error number is returned to indicate the error or
special condition.
.Sh ERRORS
The
.Fn pq_create
function fails if:
.Bl -tag -width Er
.It Bq Er EINVAL
The argument
.Fa q
or the argument
.Fa attr
is NULL.
.It Bq Er ENOMEM
Not enough memory.
.It Bq Er EAGAIN
The system temporarily lacks the resources to create
another condition variable.
.El
.Pp
The
.Fn pq_destroy
function fails if:
.Bl -tag -width Er
.It Bq Er EINVAL
The argument
.Fa q
is NULL.
.El
.Sh SEE ALSO
.Xr pq_recv_nonbl 3 ,
.Xr pq_recv_timed 3 ,
.Xr pq_send_nonbl 3 ,
.Xr pq_send_timed 3
.\" vim: syntax=groff
